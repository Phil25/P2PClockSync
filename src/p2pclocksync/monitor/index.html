<!DOCTYPE html>
<html>
<head>

<style>
	table{
		width:40em;
	}
	table, th, td{
		border: 1px solid black;
		border-collapse: collapse;
	}
	th, td{
		padding: 5px;
		text-align: left;
	}
	table tr:nth-child(even){
		background-color: #eee;
	}
	table tr:nth-child(odd){
		background-color: #fff;
	}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
	$(document).ready(function(){
		setInterval(function(){
			$.ajax({
				type: 'GET',
				dataType: 'text',
				url: '?table=1',
				success: function(data){
					$('#agentTable').html(data);
				}
			});
		}, 100)
	});
	function resetFields(){
		$('#hostnameInput').val('');
		$('#portInput').val('');
		$('#clockInput').val('');
	}
	function addAgent(){
		var hostname = $('#hostnameInput').val();
		if(!hostname){
			return;
		}
		var port = $('#portInput').val();
		if(!port){
			return;
		}
		var clock = $('#clockInput').val();
		if(!clock){
			return;
		}
		$.ajax({
			type: 'GET',
			url: '?hostname=' + hostname + '&port=' + port + '&clock=' + clock
		});
		resetFields();
	}
	function remAgent(address){
		console.log("removing: " + address);
	}
</script>

</head>
<body>

<center>
	<h1>Agents:</h1>
	<table id="agentTable"></table>

	<br />

	<input id="hostnameInput" placeholder="Hostname" type="text" name="hostname">
	<input id="portInput" placeholder="Port" type="text" name="port">
	<input id="clockInput" placeholder="Initial Clock" type="text" name="clock">
	<input type="button" value="Add Agent" onclick="addAgent();" />
</center>

</body>
</html>
